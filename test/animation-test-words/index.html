<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Scroll Animation - Palavras</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #000;
            color: white;
            overflow-x: hidden;
        }

        .spacer {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            text-align: center;
        }

        .animation-section {
            height: 400vh;
            position: relative;
        }

        .animation-container {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .words-container {
            width: 90%;
            max-width: 1000px;
            text-align: center;
        }

        .animated-word {
            display: inline-block;
            font-size: 4rem;
            font-weight: 700;
            margin: 0 20px 30px 20px;
            opacity: 0;
            transform: translateY(100px) rotateX(90deg);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-origin: center bottom;
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .animated-word.visible {
            opacity: 1;
            transform: translateY(0) rotateX(0deg);
        }

        .animated-word.colored-1 { color: #ff6b6b; text-shadow: 0 0 30px rgba(255, 107, 107, 0.6); }
        .animated-word.colored-2 { color: #4ecdc4; text-shadow: 0 0 30px rgba(78, 205, 196, 0.6); }
        .animated-word.colored-3 { color: #45b7d1; text-shadow: 0 0 30px rgba(69, 183, 209, 0.6); }
        .animated-word.colored-4 { color: #96ceb4; text-shadow: 0 0 30px rgba(150, 206, 180, 0.6); }
        .animated-word.colored-5 { color: #ffeaa7; text-shadow: 0 0 30px rgba(255, 234, 167, 0.6); }
        .animated-word.colored-6 { color: #dda0dd; text-shadow: 0 0 30px rgba(221, 160, 221, 0.6); }

        .animated-phrase {
            display: block;
            font-size: 2.5rem;
            font-weight: 400;
            margin: 40px 0;
            opacity: 0;
            transform: translateX(-50px);
            transition: all 1s ease;
        }

        .animated-phrase.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .scroll-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 14px;
            z-index: 100;
            border: 1px solid rgba(255,255,255,0.2);
        }

        @media (max-width: 768px) {
            .animated-word {
                font-size: 2.5rem;
                margin: 0 10px 20px 10px;
            }
            
            .animated-phrase {
                font-size: 1.8rem;
            }
        }

        @media (max-width: 480px) {
            .animated-word {
                font-size: 2rem;
                margin: 0 5px 15px 5px;
            }
            
            .animated-phrase {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
    <div class="spacer">
        <div>
            <h1>Scroll Animation Test - Palavras</h1>
            <p>Role para baixo para ver a animação das palavras</p>
        </div>
    </div>

    <div class="animation-section">
        <div class="animation-container">
            <div class="words-container">
                <span class="animated-word colored-1" data-delay="0">TQS</span>
                <span class="animated-word colored-2" data-delay="200">Versão</span>
                <span class="animated-word colored-3" data-delay="400">26</span>
                
                <div class="animated-phrase" data-delay="800">
                    Inovação em Software Estrutural
                </div>
                
                <span class="animated-word colored-4" data-delay="1200">Editor</span>
                <span class="animated-word colored-5" data-delay="1400">Gráfico</span>
                <span class="animated-word colored-6" data-delay="1600">3D</span>
                
                <div class="animated-phrase" data-delay="2000">
                    Modelagem Avançada
                </div>
                
                <span class="animated-word colored-1" data-delay="2400">Análise</span>
                <span class="animated-word colored-2" data-delay="2600">Estrutural</span>
                <span class="animated-word colored-3" data-delay="2800">BIM</span>
                
                <div class="animated-phrase" data-delay="3200">
                    O Futuro da Engenharia
                </div>
                
                <span class="animated-word colored-4" data-delay="3600">Python</span>
                <span class="animated-word colored-5" data-delay="3800">IA</span>
                <span class="animated-word colored-6" data-delay="4000">Automação</span>
            </div>
        </div>
    </div>

    <div class="spacer">
        <div>
            <h2>Fim da Animação</h2>
            <p>A animação das palavras terminou!</p>
        </div>
    </div>

    <div class="scroll-indicator" id="scrollIndicator">
        Progress: 0% | Palavras: 0/13
    </div>

    <script>
        // Configuração da animação
        const ANIMATION_SPEED = 1.0;
        
        const scrollIndicator = document.getElementById('scrollIndicator');
        const animatedWords = document.querySelectorAll('.animated-word');
        const animatedPhrases = document.querySelectorAll('.animated-phrase');
        const allElements = [...animatedWords, ...animatedPhrases];
        
        let maxDelay = 0;
        allElements.forEach(element => {
            const delay = parseInt(element.dataset.delay) || 0;
            maxDelay = Math.max(maxDelay, delay);
        });

        function updateAnimation() {
            const animationSection = document.querySelector('.animation-section');
            const rect = animationSection.getBoundingClientRect();
            const sectionTop = rect.top + window.pageYOffset;
            const sectionHeight = animationSection.offsetHeight;
            const scrollTop = window.pageYOffset;
            
            const viewportHeight = window.innerHeight;
            const sectionStart = sectionTop;
            const sectionEnd = sectionTop + sectionHeight - viewportHeight;
            
            let animationProgress = 0;
            
            if (scrollTop >= sectionStart && scrollTop <= sectionEnd) {
                const relativeScroll = scrollTop - sectionStart;
                const totalAnimationDistance = sectionEnd - sectionStart;
                animationProgress = Math.min(relativeScroll / totalAnimationDistance, 1);
            } else if (scrollTop > sectionEnd) {
                animationProgress = 1;
            }
            
            // Calcular tempo atual da animação (em milissegundos)
            const currentTime = animationProgress * (maxDelay + 1000);
            
            let visibleCount = 0;
            
            // Animar cada elemento baseado no seu delay
            allElements.forEach(element => {
                const delay = parseInt(element.dataset.delay) || 0;
                const shouldBeVisible = currentTime >= delay;
                
                if (shouldBeVisible && !element.classList.contains('visible')) {
                    element.classList.add('visible');
                } else if (!shouldBeVisible && element.classList.contains('visible')) {
                    element.classList.remove('visible');
                }
                
                if (shouldBeVisible) {
                    visibleCount++;
                }
            });
            
            // Atualizar indicador
            scrollIndicator.textContent = `Progress: ${Math.round(animationProgress * 100)}% | Palavras: ${visibleCount}/${allElements.length}`;
        }

        // Otimizar com requestAnimationFrame
        let ticking = false;
        function requestTick() {
            if (!ticking) {
                requestAnimationFrame(updateAnimation);
                ticking = true;
            }
        }

        window.addEventListener('scroll', () => {
            requestTick();
            ticking = false;
        });

        // Inicializar quando a página carregar
        window.addEventListener('load', () => {
            updateAnimation();
        });

        // Adicionar efeito de hover nas palavras
        animatedWords.forEach(word => {
            word.addEventListener('mouseenter', () => {
                word.style.transform = 'translateY(-10px) scale(1.1) rotateX(0deg)';
            });
            
            word.addEventListener('mouseleave', () => {
                if (word.classList.contains('visible')) {
                    word.style.transform = 'translateY(0) scale(1) rotateX(0deg)';
                }
            });
        });
    </script>
</body>
</html>